# 🔐 Wuhr AI Ops - 管理员凭据

## 📋 默认账户信息

### 🔑 管理员账户 (Admin) - 🛡️ 受保护账户
- **用户名**: `admin`
- **邮箱**: `admin@wuhr.ai`
- **密码**: `Admin123!`
- **角色**: 超级管理员
- **权限**: 所有权限
- **保护状态**: ✅ 永久保护，无法删除

### 👔 项目经理账户 (Manager)
- **用户名**: `manager`
- **邮箱**: `manager@wuhr.ai`
- **密码**: `Manager123!`
- **角色**: 项目经理
- **权限**: 项目管理和团队协调

### 👨‍💻 开发者账户 (Developer)
- **用户名**: `developer`
- **邮箱**: `developer@wuhr.ai`
- **密码**: `Developer123!`
- **角色**: 开发者
- **权限**: 开发和部署相关权限

### 👀 观察者账户 (Viewer)
- **用户名**: `viewer`
- **邮箱**: `viewer@wuhr.ai`
- **密码**: `Viewer123!`
- **角色**: 观察者
- **权限**: 只读权限

## 🚀 快速登录

### 方式一：使用邮箱登录
1. 访问登录页面：`http://localhost:3000/login`
2. 输入邮箱：`admin@wuhr.ai`
3. 输入密码：`Admin123!`
4. 点击登录

### 方式二：使用用户名登录
1. 访问登录页面：`http://localhost:3000/login`
2. 输入用户名：`admin`
3. 输入密码：`Admin123!`
4. 点击登录

## 🛠️ 创建账户

### 自动创建账户
```bash
# 进入项目目录
cd wuhr-ai-ops

# 创建管理员账户
node scripts/create-admin.js admin

# 创建所有演示账户
node scripts/create-admin.js demo

# 创建所有账户（管理员 + 演示账户）
node scripts/create-admin.js all

# 查看所有账户
node scripts/create-admin.js list
```

### 手动创建账户
如果自动脚本不工作，您可以：

1. **通过注册页面**：
   - 访问：`http://localhost:3000/register`
   - 填写注册信息
   - 注册后联系管理员提升权限

2. **通过数据库直接插入**：
   - 使用 pgAdmin 或其他数据库工具
   - 连接到 PostgreSQL 数据库
   - 插入用户记录到 `users` 表

## 🔧 故障排除

### 登录失败
1. **检查账户是否存在**：
   ```bash
   node scripts/create-admin.js list
   ```

2. **重新创建管理员账户**：
   ```bash
   node scripts/create-admin.js admin
   ```

3. **检查数据库连接**：
   - 确保 PostgreSQL 服务正在运行
   - 检查数据库配置是否正确

### 密码重置
如果忘记密码，可以：

1. **重新运行创建脚本**（会跳过已存在的账户）
2. **直接修改数据库中的密码哈希**
3. **删除用户记录后重新创建**

## 🔒 安全建议

### 生产环境
⚠️ **重要**: 在生产环境中，请务必：

1. **修改默认密码**：
   - 登录后立即修改所有默认账户的密码
   - 使用强密码（至少12位，包含大小写字母、数字、特殊字符）

2. **禁用不需要的账户**：
   - 删除或禁用演示账户
   - 只保留必要的管理员账户

3. **启用双因素认证**：
   - 配置 2FA 增强安全性
   - 使用 TOTP 或短信验证

4. **定期审计**：
   - 定期检查用户权限
   - 清理不活跃的账户
   - 监控登录日志

### 开发环境
在开发环境中：

1. **使用默认账户进行测试**
2. **不要在代码中硬编码密码**
3. **使用环境变量管理敏感信息**

## 📞 技术支持

如果遇到登录问题，请联系：

- **邮箱**: 1139804291@qq.com
- **官网**: https://wuhrai.com
- **API文档**: https://ai.wuhrai.com
- **在线聊天**: https://gpt.wuhrai.com

## 🛡️ 用户保护机制

### admin@wuhr.ai 特殊保护
- **永久保护**: admin@wuhr.ai用户受到系统级保护，无法通过任何方式删除
- **API保护**: 在用户删除API中添加了特殊检查，阻止删除此用户
- **数据库保护**: 用户ID被添加到受保护用户列表中
- **自动恢复**: 如果用户被意外修改，可以运行恢复脚本自动修复

### 保护机制验证
运行以下脚本来确保admin用户的安全性：
```bash
node scripts/ensure-admin-user.js
```

此脚本会：
- ✅ 检查admin@wuhr.ai用户是否存在
- ✅ 确保用户拥有正确的权限和角色
- ✅ 重置密码为默认密码 (Admin123!)
- ✅ 添加用户到保护列表
- ✅ 验证所有配置是否正确

### 紧急恢复
如果admin@wuhr.ai用户出现任何问题：
1. 立即运行：`node scripts/ensure-admin-user.js`
2. 检查用户是否能正常登录
3. 验证用户权限是否完整
4. 如有问题，联系系统管理员

## 📝 更新日志

### v1.3.0 (2025-01-06)
- 🛡️ 添加admin@wuhr.ai用户特殊保护机制
- 🔧 创建用户安全确保脚本
- 🔒 在API层面阻止删除核心管理员
- 📋 更新管理员凭据文档

### v1.0.0 (2025-01-01)
- 初始版本
- 创建默认管理员账户
- 添加演示账户
- 实现基础认证功能

---

**⚠️ 重要提醒**：
- admin@wuhr.ai是系统核心账户，受到特殊保护，永远不会被删除
- 请妥善保管管理员凭据，避免泄露给未授权人员
- 定期运行保护脚本确保账户安全性
- 不要将此文档提交到公共代码仓库！